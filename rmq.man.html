<h2 id="heading1">NAME</h2>
<p class="indent">
<b><a href="./scripts.php?script=rmq">rmq</a></b>
- checks the mail queue on a remote server.
</p>
<h2 id="heading2">SYNOPSIS</h2>
<p class="indent">

<b><a href="./scripts.php?script=rmq">rmq</a> </b>
[
<b>-c </b>
<i>&lt;config&gt;</i>
] [
<b>-d</b>
] [
<b>-v</b>
] [
<b>-V</b>
] &lt;
<i>clientid</i>
<b>&gt;</b>
<br/>
</p>
<h2 id="heading3">AVAILABILITY</h2>
<p class="indent">
<b><a href="./scripts.php?script=rmq">rmq</a></b>
is a Bourne shell script which should work equally well on all versions of UNIX,
Linux and Mac OS X.
</p>
<h2 id="heading4">DESCRIPTION</h2>
<p class="indent">
<b><a href="./scripts.php?script=rmq">rmq</a></b>
uses 
<b>ssh</b>
and 
<b>sudo</b>
where necessary to return a summary of the current mail queue on a remote
server.
The configuration file (
<i>/usr/local/etc/<a href="./scripts.php?script=rmq.cf">rmq.cf</a></i>
 by default) is used to
determine the mail transfer agent on the remote host and relevant hostname
using the "
<i>client id</i>
" supplied on the command line. If the configuration
file does not exist or there is no entry for the client id supplied,
<b><a href="./scripts.php?script=rmq">rmq</a></b>
will assume that "
<i>client id</i>
" = "
<i>hostname</i>
".
</p>
<p class="indent">
The script assumes that trying to use root to probe remote systems will
lead to problems so attempts to run with an id less than 500 cause an
error and the script terminates.
</p>
<h2 id="heading5">OPTIONS</h2>
<p class="indent">
</p>
<p class="indent">
<b>-c</b>&nbsp;&nbsp;&nbsp;
<i>&lt;config_file&gt;</i>
Use the named configuration file in preference to the default 
"
<i>/usr/local/etc/<a href="./scripts.php?script=rmq.cf">rmq.cf</a></i>
".
</p>
<p class="indent">

<b>-d</b>&nbsp;&nbsp;&nbsp;

Start in debug mode.
The script will run in a shell with the 
<b>-x</b>&nbsp;&nbsp;&nbsp;
option set.
</p>
<p class="indent">
<b>-l</b>&nbsp;&nbsp;&nbsp;
The summary returned is logged using the local 
<b>syslog</b>
facility. This is particularly useful for compiling reports on the number
of checks made and facilitates calculation of the average queue length.
</p>
<p class="indent">
<b>-v</b>&nbsp;&nbsp;&nbsp;
Set verbose mode. Ordinarily 
<b><a href="./scripts.php?script=rmq">rmq</a></b>
operates silently unless problems are detected. In 
<i>verbose</i>
mode 
<b><a href="./scripts.php?script=rmq">rmq</a></b>
reports on each significant action and returns a list of items in the
queue.
</p>
<p class="indent">
<b>-V</b>&nbsp;&nbsp;&nbsp;
Print version details and exit.
</p>
<h2 id="heading6">EXAMPLES</h2>
<p class="indent">

</p><div class="cmdline">
<pre>
rmq -l  billpayers
</pre></div>
<p class="indent">
</p>
<p class="indent">
Using the client id  "
<i>billpayers</i>
" as the look up key,
<b>rmq</b>
will extract the details of the remote host and mail transport agent
being used.
</p>
<h2 id="heading7">FILES</h2>
<p class="indent">
.IR /usr/local/etc/<a href="./scripts.php?script=rmq.cf">rmq.cf</a>
</p>
<h2 id="heading8">BUGS</h2>
<p class="indent">
The script has more error checking than most but is still quite crude
having been developed to resolve specific client issues.
File permissions are critical and 
<b>sudo</b>
is be used execute commands where 
<b>root</b>
privileges are required.
</p>
<h2 id="heading9">SEE ALSO</h2>
<p class="indent">
<a href="./scripts.php?script=backup&amp;man=y"><i>backup</i>,</a>
<a href="./scripts.php?script=chkftpd&amp;man=y"><i>chkftpd</i>,</a>
<a href="./scripts.php?script=chkfw&amp;man=y"><i>chkfw</i>,</a>
<a href="./scripts.php?script=chkup&amp;man=y"><i>chkup</i>,</a>
<a href="./scripts.php?script=report&amp;man=y"><i>report</i>,</a>
<a href="./scripts.php?script=rhost&amp;man=y"><i>rhost</i>.</a>
</p>
<h2 id="heading10">AUTHOR</h2>
<p class="indent">
Clifford W Fulford, City Linux. Contact fulford@fulford.net or +44 (0)709 229 5385.
</p>
	
